---
title: "EasyLanguage: ペイントバーを作成する"
linkTitle: "ペイントバーを作成する"
url: "/p/vyt8n3g"
date: "2020-05-06"
tags: ["EasyLanguage"]
weight: 100
---

ペイントバーとは？
----

{{< image border="true" src="img-001.png" >}}

ペイントバーは、その名の通り、チャートのローソク足（バー）に色を付ける機能です。
通常、チャートの足は、陽線（赤）と陰線（青）で色分けしますが、ペイントバーを使用すると、任意の条件でバーを色分けすることができます。
上の日足チャートでは、月曜日のバーを緑色で描画するようにしています。


ペイントバーの新規作成
----

新しくペイントバーを作成するには、TradeStation 開発環境のメニューから下記のように辿ります。

1. __`ファイル` → `新規作成` → `ペイントバー`__

`インジケーター` として新規作成してしまうと、`ペイントバー` の実装は行えないので注意してください（後述の `PaintPB` を呼び出せません）。


ペイントバーの実装
----

下記は、木曜日のローソク足に色を付けるペイントバーの実装例です。

{{< code title="#PB_Monday" >}}
if DayOfWeek(Date) = Monday then begin
    PlotPB(High, Low, "Monday", Green);
end;
{{< /code >}}

ローソク足に色をつけるには、__`PlotPB`__（あるいは __`PlotPaintBar`__）を使用します。

{{< code >}}
PlotPB(価格1, 価格2, プロット名, 色);
{{< /code >}}

例:

- `PlotPB(High, Low, "MyPB", Yellow);` ... ローソク足全体に色を付ける
- `PlotPB(Open, Close, "MyPB", Yellow);` ... 実体部分（ひげを除く）に色を付ける

第 1 引数と、第 2 引数の上下関係は入れ替わっても同じ振る舞いになります。

