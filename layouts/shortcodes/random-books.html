<style>

.local-box a:hover, .local-image:hover {
  filter: alpha(opacity=80);
  opacity: 0.8;
  background: none;
}

.local-info_proverb {
  font-size: larger;
  font-weight: bolder;
  /* 2行目以降を1文字インデント */
  padding-left: 1em;
  text-indent: -1em;
}
.local-info_proverb::before {
  content: '「';
}
.local-info_proverb::after {
  content: '」';
}
.local-info_authors {
  text-align: right;
  font-weight: bolder;
}
.local-info_buttons {
  text-align: center;
  margin-top: 1em;
}
.local-info_buttons img {
  height: 30px;
  width: 120px;
  border-radius: 5px;
}
.local-image {
  max-width: 30vmax;
  display: block;
  margin-left: auto;
  margin-right: auto;
}
.local-image img {
  max-width: 100%;
}

/* 幅が広いとき */
@media (min-width: 500px) {
  .local-box {
    width: 90%;
    margin-left: auto;
    margin-right: auto;
  }

  .local-info {
    margin-right: 1em;
    float: left;
    width: calc(100% - 150px);
    display: inline-block;
    vertical-align: top;
  }

  .local-image {
    float: right;
    width: 130px;
    display: inline-block;
  }
  .local-image img {
    width: 100%;
  }
  .local-box::after {
    display: block;
    content: '';
    clear: both;
  }
}
</style>

<div class="local-box">
  <div class="local-info">
    <div class="local-info_proverb" id="local-proverb"></div>
    <div class="local-info_authors" id="local-author"></div>
    <div class="local-info_buttons">
      <a id="local-link-tradersshop" target="_blank"><img src="data:image/gif;base64,R0lGODlheAAeAMQAAP///+/pp+iHEdbYlL3IgqqqqqS4cIunXnKXTHJyclmHOVVVVUB2Jzk5OSdmFR0dHQ5WAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAAeAAeAAAF/6AgjmRpnmiqrmzrvnAsz3SdBniu73zv/8CgcEgsGo/IpHLJbDqf0Kh0Sq1ar9ggALDAdbPg8C6yKOTIgN9AzMYVHo9GrwE37xaLiA6f3hkggIAGSQMQUAqBCAEKg0kJEZARcjoNkREJOwV8Z3g8AwYGDAQGa0h/TwoOgwcMAQ4KSpYRDzsPsjybAVwLfT2tOQc4oDoHsMSMhjjFjcHCjQMIjDsQjTmvn6U4CAgEOaQG3Ti2s5M7dJBxkl8BsuULlbQ5vzjUBxAMpakKxgMOr4A4/CEKVg8QvgAQ9vnTQW2Hv0DPGDCAUArQQHGQ7PQogI4jOjcNGiSIF2DcJR3zFv85yOaqmSKE1Qw5aHYqFctFPxCJokczmQNlvxqeElfOBx0cIzP+QIcJpY59OggkQxhgKD2EDA4YQGAI6rSdPQhMHNSwarJkQ4VCCIekQEg3Ouy80yhPh1WzOQzdNZTQgUG8O6Ddu5kDEUxhZxHTG/Sn2hIue4KkvGtV71SqFP1c1jEglY9TZRH8pBrgwGi1PfToUB0lJUK2UisGKBSzJY+1gRVbY8a3kVdjDIw1FN2mLsNmOBi8mogDEaJTf1Qdn6Ywpc6xhwMExyEWUThqF3loilRGyHgydHs4Lu0YmoJtwN4HeElAAXL2O+q/v1lMQThu2rC1D1vg3ZeDR2YgCMRGeZCUV1wbXqUWiUeQANGFgus8GIYBBh5oSR4T/qAJHiSmp+GJATBInokotujiizDGKOOMNNZoo4s25Kjjjjz26OOPQJoQAgA7"></a>
      <br>
      <a id="local-link-amazon1" target="_blank"><img src="data:image/gif;base64,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"></a>
    </div>
  </div>
  <div class="local-image">
    <a id="local-link-amazon2" target="_blank"><img id="local-image"></a>
  </div>
</div>

<script>
  var books = [];
  var AMAZON_AFFI = {{ $.Site.Params.AmazonId }};

  {{- range .Site.Data.books }}
    var traders = {{ .tradersshop }};
    var amazon = {{ .amazon }};
    books.push({
      proverb: {{ .proverb }},
      authors: {{ .authors }},
      image: {{ .image }},
      linkTraders: 'https://www.tradersshop.com/bin/showprod?a=16313&c=' + traders,
      linkAmazon: 'https://www.amazon.co.jp/exec/obidos/ASIN/' + amazon + '/' + AMAZON_AFFI + '/ref=nosim/'
    });
  {{- end }}

  var book = books[Math.floor(Math.random() * books.length)];  // ランダム取得
  document.getElementById('local-proverb').innerText = book.proverb;
  document.getElementById('local-author').innerText = '─ ' + book.authors.join('、');
  document.getElementById('local-image').src = book.image;
  document.getElementById('local-link-tradersshop').href = book.linkTraders;
  document.getElementById('local-link-amazon1').href = book.linkAmazon;
  document.getElementById('local-link-amazon2').href = book.linkAmazon;
</script>

